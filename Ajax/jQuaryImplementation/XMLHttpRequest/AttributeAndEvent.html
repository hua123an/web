<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Attribute and event</title>
</head>
<body>
<script>
/*XMLHTTPRequest对象常见的属性和方法
*(1)readyState属性：
* 当一个XMLHTTPRequest对象内创建时，readyState属性表示当前对象处于什么状态，
* 可以通过对该属性判断此次请求的状态，然后做出相关操作，集体属性和含义如下：
* 属性值为0：未初始化状态。此时已经创建了一个XMLHTTPRequest对象，但是还没有初始化
* 属性值为1：准备发送状态。此时已经调用了XMLHTTPRequest对象的open方法，并且XMLHTTPRequest对象已经准备好讲一个请求发送到服务器
* 属性值为2：已发送状态。此时已经通过send方法将一个请求发送到服务器，并响应
* 属性值为3：正在接收状态。此时已经接收到HTTP响应的头部信息，但是消息体部分还没有完全接收
* 属性值为4：完成响应状态，此时已经完成HTTPResponse响应的接收
* (2).responseText属性：
* responseText的内容与此时所处的readyState的状态有关，若处于0，1，2时，此时responseText为空字符串
* 当属性值为3时，响应中包含客户端还没有完成的响应信息；
* 当属性值为4时，此时responseText显示完整的响应信息。
* (3).responseXML属性：
* 只有当readyState属性值为4时，并且响应头部的Content-Type的MIME类型被指定为XML时
* 该属性才会有值被解析成一个XML文档，否则该属性为null；如果该回传的XML文档结构未完成响应回转，该属性也会为null。
* responseXML属性用来描述被XMLHttpRequest解析后的XML文档的属性
* (4)status属性：
* status是用来描述HTTP状态的代词。注意，仅当readyState属性值为3或者4时，才能对此属性进行访问。
* 如果在readyState属性值小于3时试图去读取status属性值，就会引发一个异常。
* (5).statusText属性：
* statusText属性描述了HTTP状态的代码文本，并且仅当readyState属性值为3或者4时可用。
* 当readyState属性为其他值时试图存取statusText属性，就会引发一个异常
* (6).onreadystatechange事件。
* 当readyState属性值发生改变时，XMLHttpRequest对象调用onreadystatechange事件。
* 在处理该响应时，事件处理器应该首先检查readyState的值和HTTP状态。当请求完成加载(readyState值为4)并且响应已经完成
* (HTTP状态为‘ok’)时，就可以调用JavScript函数处理该响应内容。下面是onreadystatechange事件调用的处理语句
* */
xmlhttp.onreadystatechange = function () {
  if (xmlhttp.readyState === 4){       //表示此时已经完成交互
    if (xmlhttp.status == 200){          //表示此时已经正确返回了数据
      var message = xmlhttp.responseText;   //responseText是从服务器返回的数据
    // 此处是对从服务器端返回的数据的处理语句
    }
  }

}
</script>
</body>
</html>